<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Yoshiko Menu</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        .hide-scrollbar::-webkit-scrollbar { display: none; }
        .hide-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        .tap-effect:active { transform: scale(0.97); transition: transform 0.1s; }
        body { 
            background-color: var(--tg-theme-bg-color, #f5f5f5); 
            color: var(--tg-theme-text-color, #000000);
            -webkit-tap-highlight-color: transparent;
        }
        .item-card {
            background-color: var(--tg-theme-secondary-bg-color, #ffffff);
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useMemo, useCallback } = React;

        // --- –ò–ö–û–ù–ö–ò ---
        const Icons = {
            Cart: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="9" cy="21" r="1"/><circle cx="20" cy="21" r="1"/><path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"/></svg>,
            Plus: () => <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>,
            Minus: () => <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><line x1="5" y1="12" x2="19" y2="12"/></svg>,
            Search: () => <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg>,
            Close: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
        };

        // --- –ì–ï–ù–ï–†–ê–¢–û–† –ó–ê–ì–õ–£–®–ï–ö (–ï–°–õ–ò –ù–ï–¢ –§–û–¢–û) ---
        // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å—Å—ã–ª–∫—É –Ω–∞ –∫–∞—Ä—Ç–∏–Ω–∫—É —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
        const getPlaceholder = (category, name) => {
            const colors = {
                sets: '1a1a1a', rolls: 'e85d04', pizza: 'd00000', street: 'ffb703', 
                wok: '2a9d8f', soup: '457b9d', poke: '8338ec', yakitori: '9d0208',
                desserts: 'fb8500', drinks: '0077b6'
            };
            const bg = colors[category] || '333';
            // –ò—Å–ø–æ–ª—å–∑—É–µ–º —Å–µ—Ä–≤–∏—Å placehold.co –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–∞—Ä—Ç–∏–Ω–æ–∫ –Ω–∞ –ª–µ—Ç—É
            return `https://placehold.co/400x300/${bg}/ffffff?text=${encodeURIComponent(name.split(' ')[0])}`;
        };

        // --- –ë–ê–ó–ê –î–ê–ù–ù–´–• –ú–ï–ù–Æ (–í–°–ï –ö–ê–¢–ï–ì–û–†–ò–ò) ---
        const MENU_DATA = {
            sets: {
                title: "–°–µ—Ç—ã",
                items: [
                    { id: 'set-newyork', name: '–°–µ—Ç –ù—å—é-–ô–æ—Ä–∫', weight: '1320 –≥—Ä', count: '48 —à—Ç', price: 2400, description: '–†–æ–ª–ª—ã: –ö–∞–ø—Ä–∏–∑, –®–µ—Ñ, –î—É–Ω–∞–π, –ñ–µ–º—á—É–∂–∏–Ω–∞, –°–∞–ø–ø–æ—Ä–æ, –ú–∞–π–∞–º–∏', image: '' },
                    { id: 'set-fuji', name: '–°–µ—Ç –§—É–¥–∂–∏', weight: '900 –≥—Ä', count: '32 —à—Ç', price: 1350, description: '–†–æ–ª–ª—ã: –ô–æ–¥–∂–∏ –º–∞–∫–∏, –ë–µ–ª–æ—Å–Ω–µ–∂–∫–∞, –ß–∏–∫–∞–≥–æ, –†–æ–ª–ª —Å –∫—Ä–µ–≤–µ—Ç–∫–æ–π', image: '' },
                    { id: 'set-oslo', name: '–°–µ—Ç –û—Å–ª–æ', weight: '1740 –≥—Ä', count: '56 —à—Ç', price: 3100, description: '–ß–µ—Ä–Ω—ã–π —Å–∞–º—É—Ä–∞–π, –°–ø–∞–π —ç–±–∏, –®–∏–∫ –º–∞–∫–∏, –ó–æ–ª–æ—Ç–æ–π, –°–æ–π –±–∏–Ω –º–∞–∫–∏', image: '' },
                    { id: 'set-furshet', name: '–°–µ—Ç –§—É—Ä—à–µ—Ç', weight: '2200 –≥—Ä', count: '80 —à—Ç', price: 4100, description: '–®–∞–Ω—Ö–∞–π, –ö–æ—Ä–æ–Ω–∞, –ë–µ–ª–æ—Å–Ω–µ–∂–∫–∞, –ö–∞–ª–∏—Ñ–æ—Ä–Ω–∏—è —Å –∫—É–Ω–∂—É—Ç–æ–º, –î–µ –ª—é–∫—Å, –ê–ª—è—Å–∫–∞', image: '' },
                    { id: 'set-vip', name: '–°–µ—Ç –í–ò–ü', weight: '850 –≥—Ä', count: '27 —à—Ç', price: 1790, description: '–†–æ–ª–ª—ã: –ú–∞–¥—Ä–∏–¥, –¢–∞—Ä-—Ç–∞—Ä –º–∞–∫–∏, –ë–∞–Ω–≥–∫–æ–∫. –°—É—à–∏: –£–≥–æ—Ä—å, –õ–æ—Å–æ—Å—å', image: '' },
                    { id: 'set-texas', name: '–°–µ—Ç –¢–µ—Ö–∞—Å', weight: '1300 –≥—Ä', count: '40 —à—Ç', price: 2050, description: '–¢–µ–º–ø—É—Ä–∞: –º–∞–∫–∏, –∏–º–ø–µ—Ä–∞—Ç–æ—Ä—Å–∫–∏–π. –†–æ–ª–ª—ã: —Å–∏–¥–Ω–µ–π, –∫–∞–π—Å–µ–Ω, —á–µ—Ä–Ω—ã–π —Å–∞–º—É—Ä–∞–π', image: '' },
                    { id: 'set-nagano', name: '–°–µ—Ç –ù–∞–≥–∞–Ω–æ', weight: '1000 –≥—Ä', count: '32 —à—Ç', price: 1700, description: '–°–µ—Ç –¥–ª—è –º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–æ–≤ —Å –∞–ø–ø–µ—Ç–∏—Ç–æ–º. –ß–µ—Ç—ã—Ä–µ —Ä–æ–ª–ª–∞', image: '' },
                    { id: 'set-vegas', name: '–°–µ—Ç –í–µ–≥–∞—Å', weight: '1200 –≥—Ä', count: '32 —à—Ç', price: 1610, description: '–¢–µ–º–ø—É—Ä–∞: –ö–æ—Ä–æ–ª–µ–≤–∞, –ì–µ–π–∑–µ—Ä, –ú–∞–≥—É—Ä–æ –¥–∂–∏–º–∞–≥, –ö–∞–Ω–∑–∞—Å', image: '' }
                ]
            },
            rolls: {
                title: "–†–æ–ª–ª—ã",
                items: [
                    { id: 'roll-philadelphia', name: '–§–∏–ª–∞–¥–µ–ª—å—Ñ–∏—è', weight: '200 –≥—Ä', price: 480, description: '–õ–æ—Å–æ—Å—å, —Å–ª–∏–≤–æ—á–Ω—ã–π —Å—ã—Ä', image: '' },
                    { id: 'roll-california', name: '–ö–∞–ª–∏—Ñ–æ—Ä–Ω–∏—è', weight: '200 –≥—Ä', price: 430, description: '–ö—Ä–µ–≤–µ—Ç–∫–∞, –∞–≤–æ–∫–∞–¥–æ, —Ç–æ–±–∏–∫–æ, —è–ø–æ–Ω—Å–∫–∏–π –º–∞–π–æ–Ω–µ–∑', image: '' },
                    { id: 'roll-canada', name: '–ö–∞–Ω–∞–¥–∞', weight: '200 –≥—Ä', price: 430, description: '–£–≥–æ—Ä—å, –ª–æ—Å–æ—Å—å –∫–æ–ø—á—ë–Ω—ã–π, –∞–≤–æ–∫–∞–¥–æ, —Ñ–∏–ª–∞–¥–µ–ª—å—Ñ–∏—è, –∫—É–Ω–∂—É—Ç', image: '' },
                    { id: 'roll-dragon', name: '–ó–æ–ª–æ—Ç–æ–π –¥—Ä–∞–∫–æ–Ω', weight: '230 –≥—Ä', price: 660, description: '–ö–æ—Ä–æ–ª–µ–≤—Å–∫–∞—è –∫—Ä–µ–≤–µ—Ç–∫–∞, —É–≥–æ—Ä—å, –ø–∞–ø—Ä–∏–∫–∞, —Ñ–∏–ª–∞–¥–µ–ª—å—Ñ–∏—è', image: '' },
                    { id: 'roll-moscow', name: '–ú–æ—Å–∫–≤–∞', weight: '210 –≥—Ä', price: 430, description: '–ö–æ–ø—á–µ–Ω—ã–π –ª–æ—Å–æ—Å—å, —Ñ–∏–ª–∞–¥–µ–ª—å—Ñ–∏—è, –æ–≥—É—Ä–µ—Ü, –∏–∫—Ä–∞', image: '' },
                    { id: 'roll-black-samurai', name: '–ß–µ—Ä–Ω—ã–π —Å–∞–º—É—Ä–∞–π', weight: '200 –≥—Ä', price: 430, description: '–§–∏–ª–∞–¥–µ–ª—å—Ñ–∏—è, —Ç–æ–±–∏–∫–æ —á—ë—Ä–Ω–æ–µ, —É–≥–æ—Ä—å, –∫—Ä–µ–≤–µ—Ç–∫–∞, –æ–≥—É—Ä–µ—Ü', image: '' },
                    { id: 'roll-emperor', name: '–ò–º–ø–µ—Ä–∞—Ç–æ—Ä—Å–∫–∏–π', weight: '220 –≥—Ä', price: 430, description: '–ö—Ä–µ–≤–µ—Ç–∫–∞, –ª–æ—Å–æ—Å—å, –∏–∫—Ä–∞, —è–ø–æ–Ω—Å–∫–∏–π –º–∞–π–æ–Ω–µ–∑, –∫–ª—è—Ä', image: '' },
                    { id: 'roll-madrid', name: '–ú–∞–¥—Ä–∏–¥', weight: '220 –≥—Ä', price: 660, description: '–£–≥–æ—Ä—å –∫–æ–ø—á–µ–Ω—ã–π, –ª–æ—Å–æ—Å—å, —Å—ã—Ä —Ñ–∏–ª–∞–¥–µ–ª—å—Ñ–∏—è, –∞–≤–æ–∫–∞–¥–æ', image: '' }
                ]
            },
            sushirrito: {
                title: "–°—É—à–∏—Ä–∏—Ç—Ç–æ",
                items: [
                    { id: 'sushirrito-flow', name: '–†–æ–ª–ª–§–ª–æ—É', weight: '330 –≥—Ä', price: 550, description: '–ö–æ–≥–¥–∞ –≤—Å—ë –∏–¥—ë—Ç —Å–∞–º–æ: —Ä–∞–±–æ—Ç–∞ —Å–ø–æ—Ä–∏—Ç—Å—è, –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ –Ω–∞ –ø–∏–∫–µ', image: '' },
                    { id: 'sushirrito-caesar', name: '–¶–µ–∑–∞—Ä—å –≤ –∫–ª—è—Ä–µ', weight: '330 –≥—Ä', price: 510, description: '–°—ã—Ç–Ω—ã–π –º–∏–∫—Å –ª—é–±–∏–º–æ–≥–æ —Å–∞–ª–∞—Ç–∞ –∏ —è–ø–æ–Ω—Å–∫–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞', image: '' },
                    { id: 'sushirrito-satori', name: '–°—É—à–∏—Ä–∏—Ç—Ç–æ —Å–∞—Ç–æ—Ä–∏', weight: '310 –≥—Ä', price: 570, description: '–§–∏–ª–æ—Å–æ—Ñ—ã –≤–µ–∫–∞–º–∏ —Å–ø–æ—Ä—è—Ç –æ —Å–º—ã—Å–ª–µ –∂–∏–∑–Ω–∏, –∞ –º–æ–∂–Ω–æ –ø—Ä–æ—Å—Ç–æ —Å—ä–µ—Å—Ç—å —ç—Ç–æ', image: '' }
                ]
            },
            street: {
                title: "–°—Ç—Ä–∏—Ç–§—É–¥",
                items: [
                    { id: 'burger-bbq', name: '–ë—É—Ä–≥–µ—Ä –ë–∞—Ä–±–µ–∫—é', weight: '285 –≥—Ä', price: 410, description: '–ë—É–ª–æ—á–∫–∞ —Å –∫—É–Ω–∂—É—Ç–æ–º, –º—Ä–∞–º–æ—Ä–Ω–∞—è –≥–æ–≤—è–¥–∏–Ω–∞, –≤—å–µ—Ç–Ω–∞–º—Å–∫–∏–π –ª—É–∫', image: '' },
                    { id: 'burger-black-deluxe', name: '–ë–ª—ç–∫ –±—É—Ä–≥–µ—Ä –î–µ–ª—é–∫—Å', weight: '420 –≥—Ä', price: 500, description: '–ß–µ—Ä–Ω–∞—è –±—É–ª–æ—á–∫–∞, –º—Ä–∞–º–æ—Ä–Ω–∞—è –≥–æ–≤—è–¥–∏–Ω–∞, —Å–∞–ª–∞—Ç –ê–π—Å–±–µ—Ä–≥', image: '' },
                    { id: 'taco-beef', name: '–¢–∞–∫–æ –ë–∏—Ñ —Å–ø–∞–π—Å–∏', weight: '325 –≥—Ä', price: 420, description: '–¢–æ—Ä—Ç–∏–ª—å—è, –≥–æ–≤—è–∂–∏–π —Ñ–∞—Ä—à, –ø–æ–º–∏–¥–æ—Ä, –ø–µ—Ä–µ—Ü –±–æ–ª–≥–∞—Ä—Å–∫–∏–π', image: '' },
                    { id: 'quesadilla-cheese', name: '–ö–µ—Å–∞–¥–∏–ª—å—è –ß–∏–∑ –¢–∞–π–º', weight: '190 –≥—Ä', price: 360, description: '–¢–æ—Ä—Ç–∏–ª—å—è, –º–æ—Ü–∞—Ä–µ–ª–ª–∞, —Å–º–µ—Ç–∞–Ω–∞, —Å–æ—É—Å —Å–ª–∏–≤–æ—á–Ω–æ-—á–µ—Å–Ω–æ—á–Ω—ã–π', image: '' },
                    { id: 'burrito-mexican', name: '–ú–µ–∫—Å–∏–∫–∞–Ω—Å–∫–∏–π –±—É—Ä—Ä–∏—Ç–æ', weight: '420 –≥—Ä', price: 430, description: '–ü—à–µ–Ω–∏—á–Ω–∞—è —Ç–æ—Ä—Ç–∏–ª—å—è, —Ñ–∞—Ä—à –∏–∑ –º—Ä–∞–º–æ—Ä–Ω–æ–π –≥–æ–≤—è–¥–∏–Ω—ã, –∫–∞—Ä—Ç–æ—Ñ–µ–ª—å —Ñ—Ä–∏', image: '' },
                    { id: 'burger-chef', name: '–®–µ—Ñ –±—É—Ä–≥–µ—Ä', weight: '315 –≥—Ä', price: 450, description: '–ë—É–ª–æ—á–∫–∞ —Å –∫—É–Ω–∂—É—Ç–æ–º, –∫–æ—Ç–ª–µ—Ç–∞ –∏–∑ –º—Ä–∞–º–æ—Ä–Ω–æ–π –≥–æ–≤—è–¥–∏–Ω—ã, —Å–∞–ª–∞—Ç –∞–π—Å–±–µ—Ä–≥', image: '' }
                ]
            },
            pizza: {
                title: "–ü–∏—Ü—Ü–∞",
                items: [
                    { id: 'pizza-peperoni', name: '–ü–µ–ø–ø–µ—Ä–æ–Ω–∏', price: 420, description: '–ü–∏—Ü—Ü–∞-—Å–æ—É—Å, —Å—ã—Ä –ú–æ—Ü–∞—Ä–µ–ª–ª–∞, –ø–µ–ø–ø–µ—Ä–æ–Ω–∏, —à–∞–º–ø–∏–Ω—å–æ–Ω—ã', image: '' },
                    { id: 'pizza-margarita', name: '–ú–∞—Ä–≥–∞—Ä–∏—Ç–∞', price: 450, description: '–ü–∏—Ü—Ü–∞-—Å–æ—É—Å, —Å—ã—Ä –ú–æ—Ü–∞—Ä–µ–ª–ª–∞, –ø–æ–º–∏–¥–æ—Ä—ã', image: '' },
                    { id: 'pizza-tom-yam', name: '–¢–æ–º –Ø–º', price: 690, description: '–í—Å—Ç—Ä–µ—á–∞ –∏—Ç–∞–ª—å—è–Ω—Å–∫–æ–π –∫–ª–∞—Å—Å–∏–∫–∏ —Å –∞–∑–∏–∞—Ç—Å–∫–æ–π —Å—Ç—Ä–∞—Å—Ç—å—é', image: '' },
                    { id: 'pizza-4-cheese', name: '4 –°—ã—Ä–∞', price: 420, description: '–ú–æ—Ü–∞—Ä–µ–ª–ª–∞, –¥–æ—Ä–±–ª—é, –º–∏–º–æ–ª–µ—Ç, –ü–∞—Ä–º–µ–∑–∞–Ω', image: '' },
                    { id: 'pizza-chicken', name: '–ö—É—Ä–∏–Ω–∞—è', price: 430, description: '–°–ª–∏–≤–æ—á–Ω—ã–π —Å–æ—É—Å, —Å—ã—Ä –º–æ—Ü–∞—Ä–µ–ª–ª–∞, –∫—É—Ä–∏–Ω–æ–µ —Ñ–∏–ª–µ', image: '' },
                    { id: 'pizza-caesar', name: '–¶–µ–∑–∞—Ä—å', price: 410, description: '–°–æ—É—Å —Ü–µ–∑–∞—Ä—å, —Å—ã—Ä –ú–æ—Ü–∞—Ä–µ–ª–ª–∞, –∫—É—Ä–∏–Ω–∞—è –≥—Ä—É–¥–∫–∞, —Å–∞–ª–∞—Ç –∞–π—Å–±–µ—Ä–≥, –ø–æ–º–∏–¥–æ—Ä—ã', image: '' },
                    { id: 'pizza-meat', name: '–ú—è—Å–Ω–∞—è', price: 520, description: '–ü–∏—Ü—Ü–∞-—Å–æ—É—Å, –ú–æ—Ü–∞—Ä–µ–ª–ª–∞, –≥–æ–≤—è–¥–∏–Ω–∞, –ø–æ–º–∏–¥–æ—Ä—ã, —Ñ–∏–ª–µ –∫—É—Ä–∏—Ü—ã, –≤–µ—Ç—á–∏–Ω–∞', image: '' }
                ]
            },
            wok: {
                title: "WOK",
                items: [
                    { id: 'wok-udon-chicken', name: '–£–¥–æ–Ω —Å –∫—É—Ä–∏—Ü–µ–π', price: 380, description: '–õ–∞–ø—à–∞ —É–¥–æ–Ω, –∫—É—Ä–∏–Ω–∞—è –≥—Ä—É–¥–∫–∞, –≥—Ä–∏–±—ã —à–∏–∏—Ç–∞–∫–µ, –ø–µ—Ä–µ—Ü', image: '' },
                    { id: 'wok-soba-seafood', name: '–°–æ–±–∞ —Å –º–æ—Ä–µ–ø—Ä–æ–¥—É–∫—Ç–∞–º–∏', price: 380, description: '–ì—Ä–µ—á–Ω–µ–≤–∞—è –ª–∞–ø—à–∞, –∫–∞–ª—å–º–∞—Ä, –º–∏–¥–∏–∏, –æ—Å—å–º–∏–Ω–æ–≥', image: '' },
                    { id: 'wok-tom-yam-pasta', name: '–ü–∞—Å—Ç–∞ –¢–æ–º –Ø–º —Å –∫—É—Ä–∏—Ü–µ–π', price: 410, description: '–ö–æ–≥–¥–∞ –∂–∏–∑–Ω—å –∫–∞–∂–µ—Ç—Å—è —Å–ª–∏—à–∫–æ–º –ø—Ä–µ—Å–Ω–æ–π, –∑–∞–∫–∞–∂–∏ —ç—Ç—É –ø–∞—Å—Ç—É', image: '' },
                    { id: 'wok-harusame-chicken', name: '–•–∞—Ä—É—Å–∞–º–µ —Å –∫—É—Ä–∏—Ü–µ–π', price: 420, description: '–†–∏—Å–æ–≤–∞—è –ª–∞–ø—à–∞, –æ–≤–æ—â–∏, –∫—É—Ä–∏–Ω–∞—è –≥—Ä—É–¥–∫–∞', image: '' },
                    { id: 'wok-teppan-beef', name: '–ì–æ–≤—è–¥–∏–Ω–∞ –Ω–∞ –∂–∞—Ä–æ–≤–Ω–µ', price: 350, description: '–ñ–∞—Ä–æ–≤–Ω—è - —ç—Ç–æ –∫–æ–≥–¥–∞ –æ–≥–æ–Ω—å –¥–µ–ª–∞–µ—Ç –≤—Å—é —Ä–∞–±–æ—Ç—É, –≥–æ–≤—è–¥–∏–Ω–∞ —à–∏–ø–∏—Ç', image: '' }
                ]
            },
            poke: {
                title: "–ü–æ–∫–µ",
                items: [
                    { id: 'poke-salmon', name: '–ü–æ–∫–µ —Å –ª–æ—Å–æ—Å–µ–º', weight: '350 –≥—Ä', price: 650, description: '–ì–∞–≤–∞–π—Ü—ã - —É–º–Ω—ã–µ –ª—é–¥–∏. –ó–∞—á–µ–º –≤–∏–ª–∫–∏ –∏ –Ω–æ–∂–∏?', image: '' },
                    { id: 'poke-shrimp', name: '–ü–æ–∫–µ —Å –∫—Ä–µ–≤–µ—Ç–∫–∞–º–∏', weight: '350 –≥—Ä', price: 650, description: '–ö—Ä–µ–≤–µ—Ç–∫–∏ - –ø—Ä–æ–¥—É–∫—Ç —Ç–æ–Ω–∫–∏–π, –ª–µ–≥–∫–æ –∏—Å–ø–æ—Ä—Ç–∏—Ç—å', image: '' },
                    { id: 'poke-tuna', name: '–ü–æ–∫–µ —Å —Ç—É–Ω—Ü–æ–º', weight: '350 –≥—Ä', price: 650, description: '–ö–∞—Ä–∏–±—Å–∫–∞—è –ø—Ä–∏—Å—Ç–∞–Ω—å –≤ –ø–æ–ª–¥–µ–Ω—å, –∫—Ä–∏–∫–∏ —á–∞–µ–∫, –∑–∞–ø–∞—Ö —Å–æ–ª–∏', image: '' }
                ]
            },
            soup: {
                title: "–°—É–ø—ã",
                items: [
                    { id: 'soup-tom-yam', name: '–°—É–ø –¢–æ–º –Ø–º', price: 410, description: '–≠—Ç–æ –∫–∞–∫ –ø–µ—Ä–≤–æ–µ —Å–≤–∏–¥–∞–Ω–∏–µ: —Å–Ω–∞—á–∞–ª–∞ –Ω–µ–ø–æ–Ω—è—Ç–Ω–æ, –ø–æ—Ç–æ–º –æ—Å—Ç—Ä–æ', image: '' },
                    { id: 'soup-miso', name: '–ú–∏—Å–æ —Å—É–ø', price: 240, description: '–ö–ª–∞—Å—Å–∏–∫–∞ —è–ø–æ–Ω—Å–∫–æ–π –∫—É—Ö–Ω–∏. –ü—Ä–æ—Å—Ç–æ–π, –∫–∞–∫ –¥–∑–µ–Ω-—Å–∞–¥', image: '' },
                    { id: 'soup-cream-mushroom', name: '–ö—Ä–µ–º —Å—É–ø –≥—Ä–∏–±–Ω–æ–π', price: 270, description: '–°–æ–∑–¥–∞–Ω –¥–ª—è –ø—Ä–æ—Ö–ª–∞–¥–Ω—ã—Ö –≤–µ—á–µ—Ä–æ–≤', image: '' },
                    { id: 'soup-salmon', name: '–°—É–ø —Å –ª–æ—Å–æ—Å–µ–º', price: 370, description: '–ú–∏—Å–æ-—Å—É–ø —Å —Ö–∞—Ä–∞–∫—Ç–µ—Ä–æ–º - –∑–¥–µ—Å—å –≥–ª–∞–≤–Ω—É—é —Ä–æ–ª—å –∏–≥—Ä–∞–µ—Ç –ª–æ—Å–æ—Å—å', image: '' }
                ]
            },
            yakitori: {
                title: "–®–∞—à–ª—ã—á–∫–∏",
                items: [
                    { id: 'yakitori-chicken', name: '–®–∞—à–ª—ã—á–∫–∏ –∏–∑ –∫—É—Ä–∏—Ü—ã', weight: '2 —à—Ç', price: 240, description: '–°–æ—á–Ω—ã–µ –∫—É—Å–æ—á–∫–∏ –≤ —Å–æ—É—Å–µ —É–Ω–∞–≥–∏', image: '' },
                    { id: 'yakitori-salmon', name: '–®–∞—à–ª—ã—á–∫–∏ –∏–∑ —Å–µ–º–≥–∏', weight: '2 —à—Ç', price: 330, description: '–£—Ç–æ–Ω—á–µ–Ω–Ω–æ—Å—Ç—å, –±–∞—Ä—Ö–∞—Ç –Ω–æ—á–∏, –∫–∞–ø–ª—è –≤–æ–ª—à–µ–±—Å—Ç–≤–∞', image: '' },
                    { id: 'yakitori-hearts', name: '–ö—É—Ä–∏–Ω—ã–µ —Å–µ—Ä–¥–µ—á–∫–∏', weight: '2 —à—Ç', price: 220, description: '–®–∞—à–ª—ã—á–æ–∫-–û—Å–∫–∞—Ä, –Ω–µ –º–µ–Ω—å—à–µ! –ù–∞ –∫—Ä–∞—Å–Ω–æ–π –¥–æ—Ä–æ–∂–∫–µ –≤–∫—É—Å–æ–≤', image: '' },
                    { id: 'yakitori-shrimp', name: '–®–∞—à–ª—ã—á–∫–∏ —Å –∫—Ä–µ–≤–µ—Ç–∫–∞–º–∏', weight: '2 —à—Ç', price: 330, description: '–ù–µ–∂–Ω—ã–µ –∫—Ä–µ–≤–µ—Ç–∫–∏, –ø—Ä–æ–ø–∏—Ç–∞–Ω–Ω—ã–µ –Ω–∞—Å—ã—â–µ–Ω–Ω—ã–º —Å–æ—É—Å–æ–º —É–Ω–∞–≥–∏', image: '' }
                ]
            },
            ossetian: {
                title: "–ü–∏—Ä–æ–≥–∏",
                items: [
                    { id: 'pie-meat', name: '–° –º—è—Å–æ–º', weight: '700 –≥—Ä', price: 750, description: '–ì–æ–≤—è–∂–∏–π —Ñ–∞—Ä—à, –ª—É–∫, —á–∏–ª–∏ –ø–µ—Ä–µ—Ü, —á–µ—Å–Ω–æ–∫', image: '' },
                    { id: 'pie-cheese', name: '–° —Å—ã—Ä–æ–º', weight: '700 –≥—Ä', price: 640, description: '–°—ã—Ä ¬´–û—Å–µ—Ç–∏–Ω—Å–∫–∏–π¬ª, –º–∞—Å–ª–æ —Ç–æ–ø–ª–µ–Ω–æ–µ', image: '' },
                    { id: 'pie-potato', name: '–° –∫–∞—Ä—Ç–æ—Ñ–µ–ª–µ–º –∏ –≥—Ä–∏–±–∞–º–∏', weight: '700 –≥—Ä', price: 580, description: '–ú—É–∫–∞ –≤/—Å, –≥—Ä–∏–±—ã, –∫–∞—Ä—Ç–æ—Ñ–µ–ª—å, —Å—ã—Ä', image: '' },
                    { id: 'pie-chicken', name: '–° –∫—É—Ä–∏—Ü–µ–π –∏ —Å—ã—Ä–æ–º', weight: '700 –≥—Ä', price: 680, description: '–°—ã—Ä ¬´–û—Å–µ—Ç–∏–Ω—Å–∫–∏–π¬ª, –∫—É—Ä–∏—Ü–∞, —Å–ø–µ—Ü–∏–∏, –º–∞—Å–ª–æ —Ç–æ–ø–ª–µ–Ω–æ–µ', image: '' }
                ]
            },
            salads: {
                title: "–°–∞–ª–∞—Ç—ã",
                items: [
                    { id: 'salad-funchoza', name: '–§—É–Ω—á–æ–∑–∞', price: 350, description: '–†–∏—Å–æ–≤–∞—è –ª–∞–ø—à–∞, —Ç–∏–≥—Ä–æ–≤—ã–µ –∫—Ä–µ–≤–µ—Ç–∫–∏, –æ–≤–æ—â–∏, –∫—É–Ω–∂—É—Ç–Ω–æ–µ –º–∞—Å–ª–æ', image: '' },
                    { id: 'salad-avocado', name: '–°–∞–ª–∞—Ç –ê–≤–æ–∫–∞–¥–æ', price: 350, description: '–ê–≤–æ–∫–∞–¥–æ, –∫—Ä–µ–≤–µ—Ç–∫–∏, –æ–≤–æ—â–∏, —è–π—Ü–æ, –∑–µ–ª–µ–Ω—å, —Å–æ—É—Å', image: '' },
                    { id: 'salad-chuka', name: '–ß—É–∫–∞ —Å–∞—Ä–∞–¥–∞', price: 220, description: '–°–∞–ª–∞—Ç —á—É–∫–∞ —Å –æ—Ä–µ—Ö–æ–≤—ã–º —Å–æ—É—Å–æ–º', image: '' },
                    { id: 'salad-caesar-shrimp', name: '–¶–µ–∑–∞—Ä—å —Å –∫—Ä–µ–≤–µ—Ç–∫–∞–º–∏', price: 340, description: '–°–∞–ª–∞—Ç –∞–π—Å–±–µ—Ä–≥, –∫—Ä–µ–≤–µ—Ç–∫–∏ —Ç–∏–≥—Ä–æ–≤—ã–µ, –ø–æ–º–∏–¥–æ—Ä —á–µ—Ä—Ä–∏, –≥—Ä–µ–Ω–∫–∏', image: '' }
                ]
            },
            snacks: {
                title: "–ó–∞–∫—É—Å–∫–∏",
                items: [
                    { id: 'snack-fries', name: '–ö–∞—Ä—Ç–æ—Ñ–µ–ª—å "–§—Ä–∏"', weight: '250 –≥—Ä', price: 220, description: '–≠—Ç–æ –±–ª—é–¥–æ - —Å—Ç–∞—Ä—ã–π –¥—Ä—É–≥, –∫–æ—Ç–æ—Ä–æ–≥–æ —Ç—ã –≤—Å–µ–≥–¥–∞ —Ä–∞–¥ –≤–∏–¥–µ—Ç—å', image: '' },
                    { id: 'snack-prawns', name: '–ö—Ä–µ–≤–µ—Ç–∫–∏ —Ç–∏–≥—Ä–æ–≤—ã–µ –≤ –ø–∞–Ω–∏—Ä–æ–≤–∫–µ', count: '6 —à—Ç', price: 350, description: '–ó–≤—É—á–∏—Ç –≥—Ä–æ–∑–Ω–æ, –Ω–∞ –≤–∫—É—Å - –æ–≥–æ–Ω—å', image: '' },
                    { id: 'snack-nuggets', name: '–ù–∞–≥–≥–µ—Ç—Å—ã', count: '6 —à—Ç', price: 140, description: '–í–∫—É—Å–Ω—è—à–∫–∏ —Å –ø–µ—Ä—á–∏–Ω–∫–æ–π - —Ö—Ä—É—Å—Ç—è—â–∏–µ —Å–Ω–∞—Ä—É–∂–∏', image: '' },
                    { id: 'snack-cheese-balls', name: '–°—ã—Ä–Ω—ã–µ —à–∞—Ä–∏–∫–∏', weight: '8 —à—Ç', price: 350, description: '–Ø —Å—ã—Ä–Ω—ã–π, —Å–Ω–∞—Ä—É–∂–∏ —Ö—Ä—É—Å—Ç—è—â–∏–π, –∞ –≤–Ω—É—Ç—Ä–∏ - —Ç–∞–∫–æ–π –º—è–≥–∫–∏–π', image: '' }
                ]
            },
             combo: {
                title: "–ö–æ–º–±–æ",
                items: [
                    { id: 'combo-shanghai', name: '–ö–æ–º–±–æ –®–∞–Ω—Ö–∞–π', price: 590, description: '–í–æ–ø—Ä–æ—Å ¬´–ß—Ç–æ –±—ã –ø–æ–µ—Å—Ç—å?¬ª —Ä–µ—à–∞–µ—Ç—Å—è –Ω–∞ —É—Ä–∞!', image: '' },
                    { id: 'combo-5-pizzas', name: '–ö–æ–º–±–æ "5 –ü–∏—Ü—Ü"', price: 2350, description: '–ü—è—Ç—å —Ä–∞–∑–Ω—ã—Ö –∏—Å—Ç–æ—Ä–∏–π –Ω–∞ –æ–¥–Ω–æ–º —Å—Ç–æ–ª–µ', image: '' },
                    { id: 'combo-nevada', name: '–ö–æ–º–±–æ –ù–µ–≤–∞–¥–∞', price: 590, description: '–°—ã—Ç–Ω—ã–π –Ω–∞–±–æ—Ä –¥–ª—è —Ç–µ—Ö, –∫—Ç–æ —Ü–µ–Ω–∏—Ç –≤–∫—É—Å –∏ —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏–µ', image: '' },
                    { id: 'combo-francesco', name: '–ö–æ–º–±–æ –§—Ä–∞–Ω—á–µ—Å–∫–æ', price: 590, description: '–ì–æ—Ç–æ–≤—å—Å—è –∫ –≥–∞—Å—Ç—Ä–æ–Ω–æ–º–∏—á–µ—Å–∫–æ–º—É –ø—Ä–∞–∑–¥–Ω–∏–∫—É', image: '' }
                ]
            },
            desserts: {
                title: "–î–µ—Å–µ—Ä—Ç—ã",
                items: [
                    { id: 'cheesecake-classic', name: '–ß–∏–∑–∫–µ–π–∫ –ö–ª–∞—Å—Å–∏–∫', price: 220, description: '–ù—å—é-–π–æ—Ä–∫—Å–∫–∏–π —á–∏–∑–∫–µ–π–∫ - –ø–ª–æ—Ç–Ω—ã–π, —Å–ª–∏–≤–æ—á–Ω—ã–π', image: '' },
                    { id: 'roll-victoria', name: '–°–ª–∞–¥–∫–∏–π —Ä–æ–ª–ª –í–∏–∫—Ç–æ—Ä–∏—è', price: 340, description: '–Ø—Ä–∫–∏–π, —Å–æ—á–Ω—ã–π, –Ω–µ–º–Ω–æ–≥–æ –∫–æ—Ä–æ–ª–µ–≤—Å–∫–∏–π', image: '' },
                    { id: 'tiramisu', name: '–¢–∏—Ä–∞–º–∏—Å—É', price: 220, description: '–ò—Ç–∞–ª—å—è–Ω—Å–∫–∏–π –¥–µ—Å–µ—Ä—Ç, ¬´–ø–æ–¥–Ω–∏–º–∏ –º–µ–Ω—è –≤–≤–µ—Ä—Ö¬ª', image: '' }
                ]
            },
            drinks: {
                title: "–ù–∞–ø–∏—Ç–∫–∏",
                items: [
                    { id: 'drink-dobry-cola', name: '–î–æ–±—Ä—ã–π –ö–æ–ª–∞', volume: '1.0 –ª', price: 190, description: '', image: '' },
                    { id: 'drink-adrenaline', name: '–ê–¥—Ä–µ–Ω–∞–ª–∏–Ω –†–∞—à', volume: '0.5 –ª', price: 200, description: '', image: '' },
                    { id: 'drink-orange', name: '–î–æ–±—Ä—ã–π –ê–ø–µ–ª—å—Å–∏–Ω', volume: '1.0 –ª', price: 210, description: '', image: '' }
                ]
            },
            sauces: {
                title: "–°–æ—É—Å—ã",
                items: [
                    { id: 'sauce-spicy', name: '–°–æ—É—Å —Å–ø–∞–π—Å–∏', price: 60, description: '–î–ª—è —Ç–µ—Ö, –∫–æ–º—É —Å–∫—É—á–Ω–æ –∂–∏—Ç—å –±–µ–∑ –æ—Å—Ç—Ä–∏–Ω–∫–∏', image: '' },
                    { id: 'sauce-wasabi', name: '–í–∞—Å–∞–±–∏', price: 60, description: '–ñ–≥—É—á–∏–π –∞–∫—Ü–µ–Ω—Ç –¥–ª—è –ø–æ–ª–Ω–æ–π –ø–∞–ª–∏—Ç—Ä—ã –≤–∫—É—Å–∞', image: '' },
                    { id: 'sauce-ginger', name: '–ò–º–±–∏—Ä—å', price: 60, description: '–†–æ–∑–æ–≤—ã–µ –ª–µ–ø–µ—Å—Ç–∫–∏ –º–µ–∂–¥—É —Ä–æ–ª–ª–∞–º–∏', image: '' },
                    { id: 'sauce-soy', name: '–°–æ–µ–≤—ã–π —Å–æ—É—Å –ö–∏–∫–∫–æ–º–∞–Ω', price: 100, description: '–ë–µ–∑ –Ω–µ–≥–æ —Ä–æ–ª–ª—ã - –ø—Ä–æ—Å—Ç–æ —Ä–∏—Å —Å —Ä—ã–±–æ–π', image: '' }
                ]
            }
        };

        const CATEGORIES = Object.keys(MENU_DATA).map(key => ({
            id: key,
            label: MENU_DATA[key].title
        }));

        const App = () => {
            const [activeCategory, setActiveCategory] = useState(CATEGORIES[0].id);
            const [cart, setCart] = useState({});
            const [view, setView] = useState('menu');
            const [searchQuery, setSearchQuery] = useState('');
            const [animation, setAnimation] = useState('');

            useEffect(() => {
                if (window.Telegram?.WebApp) {
                    const tg = window.Telegram.WebApp;
                    tg.ready();
                    tg.expand();
                    document.documentElement.style.setProperty('--tg-theme-bg-color', tg.themeParams.bg_color || '#f5f5f5');
                    document.documentElement.style.setProperty('--tg-theme-secondary-bg-color', tg.themeParams.secondary_bg_color || '#ffffff');
                    document.documentElement.style.setProperty('--tg-theme-text-color', tg.themeParams.text_color || '#000000');
                    document.documentElement.style.setProperty('--tg-theme-button-color', tg.themeParams.button_color || '#3390ec');
                    document.documentElement.style.setProperty('--tg-theme-button-text-color', tg.themeParams.button_text_color || '#ffffff');
                }
            }, []);

            const totalAmount = useMemo(() => Object.values(cart).reduce((sum, item) => sum + (item.price * item.quantity), 0), [cart]);

            const handleCheckout = useCallback(() => {
                if (window.Telegram?.WebApp) {
                    const tg = window.Telegram.WebApp;
                    const itemsList = Object.values(cart)
                        .map(item => `${item.name} x${item.quantity} - ${item.price * item.quantity}‚ÇΩ`)
                        .join('\n');
                    const message = `–ó–∞–∫–∞–∑:\n${itemsList}\n–ò—Ç–æ–≥–æ: ${totalAmount} ‚ÇΩ`;
                    tg.sendData(JSON.stringify({ cart, totalAmount, message }));
                }
            }, [cart, totalAmount]);

            useEffect(() => {
                if (window.Telegram?.WebApp) {
                    const tg = window.Telegram.WebApp;
                    if (totalAmount > 0) {
                        tg.MainButton.text = `–ó–ê–ö–ê–ó–ê–¢–¨: ${totalAmount} ‚ÇΩ`;
                        tg.MainButton.show();
                        tg.MainButton.onClick(handleCheckout);
                    } else {
                        tg.MainButton.hide();
                        tg.MainButton.offClick(handleCheckout);
                    }
                }
            }, [totalAmount, handleCheckout]);

            const handleAddToCart = (item) => {
                setCart(prev => {
                    const currentQty = prev[item.id]?.quantity || 0;
                    return { ...prev, [item.id]: { ...item, quantity: currentQty + 1 } };
                });
                if (window.Telegram?.WebApp?.HapticFeedback) window.Telegram.WebApp.HapticFeedback.impactOccurred('medium');
            };

            const handleRemoveFromCart = (item) => {
                setCart(prev => {
                    const currentQty = prev[item.id]?.quantity || 0;
                    if (currentQty <= 1) {
                        const newCart = { ...prev };
                        delete newCart[item.id];
                        return newCart;
                    }
                    return { ...prev, [item.id]: { ...item, quantity: currentQty - 1 } };
                });
                if (window.Telegram?.WebApp?.HapticFeedback) window.Telegram.WebApp.HapticFeedback.impactOccurred('light');
            };

            const getFilteredItems = () => {
                if (searchQuery) {
                    return Object.values(MENU_DATA).flatMap(cat => cat.items)
                        .filter(item => item.name.toLowerCase().includes(searchQuery.toLowerCase()));
                }
                return MENU_DATA[activeCategory].items;
            };

            const theme = {
                bg: 'var(--tg-theme-bg-color)',
                secondaryBg: 'var(--tg-theme-secondary-bg-color)',
                text: 'var(--tg-theme-text-color)',
                button: 'var(--tg-theme-button-color)',
                buttonText: 'var(--tg-theme-button-text-color)',
                hint: 'var(--tg-theme-hint-color, #999999)'
            };

            return (
                <div className="min-h-screen pb-24 font-sans select-none transition-colors duration-200" style={{ backgroundColor: theme.bg }}>
                    
                    {/* Header */}
                    <div className="sticky top-0 z-50 backdrop-blur-xl bg-opacity-90 border-b border-black/5" 
                         style={{ backgroundColor: theme.secondaryBg }}>
                        <div className="px-4 py-3 flex items-center justify-between">
                            <div className="flex items-center gap-2">
                                <div className="w-9 h-9 rounded-xl flex items-center justify-center font-bold text-white shadow-sm"
                                     style={{ backgroundColor: theme.button }}>Y</div>
                                <h1 className="text-xl font-bold tracking-tight" style={{ color: theme.text }}>Yoshiko</h1>
                            </div>
                            <div className="relative cursor-pointer tap-effect p-2 rounded-full hover:bg-black/5" onClick={() => setView(view === 'cart' ? 'menu' : 'cart')}>
                                {view === 'cart' ? <Icons.Close /> : <Icons.Cart />}
                                {Object.keys(cart).length > 0 && view !== 'cart' && (
                                    <span className="absolute top-1 right-1 bg-red-500 text-white text-[10px] font-bold rounded-full w-4 h-4 flex items-center justify-center border border-white">
                                        {Object.values(cart).reduce((a,b) => a + b.quantity, 0)}
                                    </span>
                                )}
                            </div>
                        </div>

                        {view === 'menu' && (
                            <>
                                <div className="px-4 pb-2">
                                    <div className="relative group">
                                        <div className="absolute left-3 top-2.5 text-gray-400 group-focus-within:text-blue-500 transition-colors"><Icons.Search /></div>
                                        <input 
                                            type="text" 
                                            placeholder="–ü–æ–∏—Å–∫..." 
                                            value={searchQuery}
                                            onChange={(e) => setSearchQuery(e.target.value)}
                                            className="w-full pl-10 pr-4 py-2.5 rounded-xl text-[15px] outline-none transition-all shadow-sm focus:shadow-md"
                                            style={{ backgroundColor: theme.bg, color: theme.text }}
                                        />
                                    </div>
                                </div>
                                {!searchQuery && (
                                    <div className="flex overflow-x-auto hide-scrollbar px-4 pb-3 gap-2">
                                        {CATEGORIES.map(cat => (
                                            <button
                                                key={cat.id}
                                                onClick={() => setActiveCategory(cat.id)}
                                                className={`whitespace-nowrap px-4 py-2 rounded-full text-[14px] font-medium transition-all tap-effect ${activeCategory === cat.id ? 'shadow-md scale-[1.02]' : 'opacity-60 hover:opacity-100'}`}
                                                style={{
                                                    backgroundColor: activeCategory === cat.id ? theme.button : theme.bg,
                                                    color: activeCategory === cat.id ? theme.buttonText : theme.text
                                                }}
                                            >
                                                {cat.label}
                                            </button>
                                        ))}
                                    </div>
                                )}
                            </>
                        )}
                    </div>

                    {/* Content */}
                    <div className="p-4 animate-fade-in">
                        {view === 'menu' ? (
                            <div className="grid grid-cols-2 gap-3">
                                {searchQuery && <h2 className="text-lg font-bold mb-2 col-span-full" style={{ color: theme.text }}>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:</h2>}
                                {getFilteredItems().map(item => (
                                    <div key={item.id} 
                                         className="flex flex-col rounded-[20px] overflow-hidden shadow-sm border border-black/5 relative tap-effect h-full"
                                         style={{ backgroundColor: theme.secondaryBg }}>
                                        
                                        {/* Image Area */}
                                        <div className="w-full aspect-[4/3] relative bg-gray-100 overflow-hidden">
                                            <img 
                                                src={item.image || getPlaceholder(searchQuery ? Object.keys(MENU_DATA).find(k => MENU_DATA[k].items.includes(item)) : activeCategory, item.name)} 
                                                alt={item.name}
                                                className="w-full h-full object-cover transition-transform duration-500 hover:scale-105"
                                                loading="lazy"
                                            />
                                            {item.count && <span className="absolute bottom-2 left-2 bg-black/60 backdrop-blur-md text-white text-[10px] px-2 py-0.5 rounded-md">{item.count}</span>}
                                            {item.weight && <span className="absolute bottom-2 right-2 bg-white/90 backdrop-blur-md text-black text-[10px] px-2 py-0.5 rounded-md shadow-sm">{item.weight}</span>}
                                        </div>

                                        {/* Info Area */}
                                        <div className="p-3 flex flex-col flex-1 justify-between">
                                            <div>
                                                <h3 className="font-bold text-[14px] leading-[1.2] mb-1 line-clamp-2" style={{ color: theme.text }}>{item.name}</h3>
                                                <p className="text-[11px] leading-[1.3] line-clamp-2 mb-3 opacity-60" style={{ color: theme.text }}>{item.description}</p>
                                            </div>
                                            
                                            <div className="flex items-center justify-between mt-auto">
                                                <span className="font-bold text-[15px]" style={{ color: theme.text }}>{item.price} ‚ÇΩ</span>
                                                
                                                {cart[item.id] ? (
                                                    <div className="flex items-center rounded-full bg-gray-100 dark:bg-white/10 h-8">
                                                        <button onClick={() => handleRemoveFromCart(item)} className="w-8 h-8 flex items-center justify-center tap-effect"><Icons.Minus /></button>
                                                        <span className="text-[13px] font-semibold min-w-[16px] text-center" style={{ color: theme.text }}>{cart[item.id].quantity}</span>
                                                        <button onClick={() => handleAddToCart(item)} className="w-8 h-8 flex items-center justify-center tap-effect"><Icons.Plus /></button>
                                                    </div>
                                                ) : (
                                                    <button onClick={() => handleAddToCart(item)}
                                                            className="w-8 h-8 rounded-full flex items-center justify-center shadow-sm tap-effect transition-colors"
                                                            style={{ backgroundColor: theme.button, color: theme.buttonText }}>
                                                        <Icons.Plus />
                                                    </button>
                                                )}
                                            </div>
                                        </div>
                                    </div>
                                ))}
                            </div>
                        ) : (
                            // Cart View
                            <div className="space-y-4">
                                <div className="flex items-center justify-between mb-4">
                                    <h2 className="text-2xl font-bold" style={{ color: theme.text }}>–ö–æ—Ä–∑–∏–Ω–∞</h2>
                                    <button onClick={() => setCart({})} className="text-red-500 text-[14px] font-medium opacity-80 hover:opacity-100">–û—á–∏—Å—Ç–∏—Ç—å</button>
                                </div>
                                {Object.keys(cart).length === 0 ? (
                                    <div className="text-center py-20 opacity-40">
                                        <div className="flex justify-center mb-4 text-6xl">üõí</div>
                                        <p className="text-lg font-medium" style={{ color: theme.text }}>–ü—É—Å—Ç–æ</p>
                                        <button onClick={() => setView('menu')} className="mt-4 font-medium text-blue-500">–ü–µ—Ä–µ–π—Ç–∏ –≤ –º–µ–Ω—é</button>
                                    </div>
                                ) : (
                                    Object.values(cart).map(item => (
                                        <div key={item.id} className="flex items-center gap-4 py-3 border-b border-black/5 last:border-0 animate-fade-in-up">
                                            {/* Mini Image in Cart */}
                                            <div className="w-16 h-16 rounded-xl bg-gray-100 overflow-hidden flex-shrink-0">
                                                <img 
                                                     src={item.image || getPlaceholder('cart', item.name)} 
                                                     className="w-full h-full object-cover"
                                                />
                                            </div>
                                            <div className="flex-1 min-w-0">
                                                <div className="font-medium truncate text-[15px]" style={{ color: theme.text }}>{item.name}</div>
                                                <div className="text-[13px] opacity-60" style={{ color: theme.text }}>{item.price} ‚ÇΩ</div>
                                            </div>
                                            <div className="flex items-center gap-3 rounded-lg px-2 py-1" style={{ backgroundColor: theme.bg }}>
                                                <button onClick={() => handleRemoveFromCart(item)} className="p-1 tap-effect opacity-60 hover:opacity-100"><Icons.Minus /></button>
                                                <span className="font-medium w-4 text-center text-[14px]" style={{ color: theme.text }}>{item.quantity}</span>
                                                <button onClick={() => handleAddToCart(item)} className="p-1 tap-effect opacity-60 hover:opacity-100"><Icons.Plus /></button>
                                            </div>
                                        </div>
                                    ))
                                )}
                            </div>
                        )}
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
